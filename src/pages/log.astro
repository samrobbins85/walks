---
import { getCollection } from "astro:content";
import Layout from "../layouts/Layout.astro";
import { getEntry } from "astro:content";
import LogPage from "../components/log.svelte";
const logs = await getCollection("logs");
const logEntries = await Promise.all(
  logs.map(async (log) => {
    const walk = await getEntry(log.data.walk);
    const weather = await getEntry(log.data.weather);

    return { ...log, data: { ...log.data, walk, weather } };
  })
);
---

<Layout>
  <LogPage client:only logEntries={logEntries} />
</Layout>
